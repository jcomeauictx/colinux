diff -urN -x '*.o' -x '*.a' -x Makefile -x 'config.*' w32api-2.5/include/ddk/winddk.h w32api-2.5-mod/include/ddk/winddk.h
--- w32api-2.5/include/ddk/winddk.h	2004-02-15 09:32:36.000000000 +0200
+++ w32api-2.5-mod/include/ddk/winddk.h	2004-10-22 19:03:53.000000000 +0200
@@ -4397,6 +4397,15 @@
   IN PCWSTR  Path,
   IN PCWSTR  ValueName);
 
+NTOSAPI
+BOOL
+DDKAPI
+RtlDosPathNameToNtPathName_U(
+  IN PCWSTR  DosPathName,
+  OUT PUNICODE_STRING  NtPathName,
+  OUT PCWSTR  *NtFileNamePart,
+  OUT VOID  *DirectoryInfo);
+
 /*
  * BOOLEAN
  * RtlEqualLuid( 
diff -urN -x '*.o' -x '*.a' -x Makefile -x 'config.*' w32api-2.5/lib/ddk/ntoskrnl.def w32api-2.5-mod/lib/ddk/ntoskrnl.def
--- w32api-2.5/lib/ddk/ntoskrnl.def	2004-02-15 09:32:37.000000000 +0200
+++ w32api-2.5-mod/lib/ddk/ntoskrnl.def	2004-10-23 10:53:30.000000000 +0200
@@ -644,7 +644,7 @@
 MmAllocateContiguousMemorySpecifyCache@20
 MmAllocateMappingAddress@8
 MmAllocateNonCachedMemory@4
-MmAllocatePagesForMdl@16
+MmAllocatePagesForMdl@28
 MmBuildMdlForNonPagedPool@4
 ;MmCanFileBeTruncated
 MmCreateMdl@12
@@ -672,7 +672,7 @@
 MmLockPagableDataSection@4
 MmLockPagableImageSection@4
 MmLockPagableSectionByHandle@4
-MmMapIoSpace@12
+MmMapIoSpace@16
 MmMapLockedPages@8
 MmMapLockedPagesSpecifyCache@24
 MmMapLockedPagesWithReservedMapping@16
@@ -1316,7 +1316,7 @@
 ;ZwQueryBootOptions
 ZwQueryDefaultLocale@8
 ZwQueryDefaultUILanguage@4
-;ZwQueryDirectoryFile
+ZwQueryDirectoryFile@44
 ZwQueryDirectoryObject@28
 ;ZwQueryEaFile
 ;ZwQueryFullAttributesFile
@@ -1333,7 +1333,7 @@
 ZwQuerySymbolicLinkObject@12
 ZwQuerySystemInformation@16
 ZwQueryValueKey@24
-;ZwQueryVolumeInformationFile
+ZwQueryVolumeInformationFile@20
 ZwReadFile@36
 ZwReplaceKey@12
 ZwRequestWaitReplyPort@12
